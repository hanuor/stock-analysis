import { getData } from 'functions/API';
import { GetServerSideProps } from 'next';

const Sitemap = () => {};

export const getServerSideProps: GetServerSideProps = async ({ res }) => {
	const pages = [
		'about/',
		'contact/',
		'privacy-policy/',
		'terms-of-use/',
		'data-disclaimer/',
		'sitemap/',
		'pro/',
		'apis/',
		'stocks/',
		'stock-screener/',
		'etf/',
		'ipos/',
		'ipos/calendar/',
		'ipos/2021/',
		'ipos/2020/',
		'ipos/2019/',
		'ipos/news/',
		'ipos/statistics/',
		'news/',
		'news/all-stocks/',
		'news/press-releases/',
		'actions/',
		'actions/2021/',
		'actions/2020/',
		'actions/2019/',
		'actions/2018/',
		'actions/2017/',
		'actions/2016/',
		'actions/2015/',
		'actions/2014/',
		'actions/2013/',
		'actions/2012/',
		'actions/2011/',
		'actions/2010/',
		'actions/2009/',
		'actions/2008/',
		'actions/2007/',
		'actions/2006/',
		'actions/2005/',
		'actions/2004/',
		'actions/2003/',
		'actions/2002/',
		'actions/2001/',
		'actions/2000/',
		'actions/1999/',
		'actions/1998/',
		'actions/listed/',
		'actions/listed/2021/',
		'actions/listed/2020/',
		'actions/listed/2019/',
		'actions/listed/2018/',
		'actions/listed/2017/',
		'actions/listed/2016/',
		'actions/listed/2015/',
		'actions/listed/2014/',
		'actions/listed/2013/',
		'actions/listed/2012/',
		'actions/listed/2011/',
		'actions/listed/2010/',
		'actions/listed/2009/',
		'actions/listed/2008/',
		'actions/listed/2007/',
		'actions/listed/2006/',
		'actions/listed/2005/',
		'actions/listed/2004/',
		'actions/listed/2003/',
		'actions/listed/2002/',
		'actions/listed/2001/',
		'actions/listed/2000/',
		'actions/listed/1999/',
		'actions/listed/1998/',
		'actions/delisted/',
		'actions/delisted/2021/',
		'actions/delisted/2020/',
		'actions/delisted/2019/',
		'actions/delisted/2018/',
		'actions/delisted/2017/',
		'actions/delisted/2016/',
		'actions/delisted/2015/',
		'actions/delisted/2014/',
		'actions/delisted/2013/',
		'actions/delisted/2012/',
		'actions/delisted/2011/',
		'actions/delisted/2010/',
		'actions/delisted/2009/',
		'actions/delisted/2008/',
		'actions/delisted/2007/',
		'actions/delisted/2006/',
		'actions/delisted/2005/',
		'actions/delisted/2004/',
		'actions/delisted/2003/',
		'actions/delisted/2002/',
		'actions/delisted/2001/',
		'actions/delisted/2000/',
		'actions/delisted/1999/',
		'actions/delisted/1998/',
		'actions/splits/',
		'actions/splits/2021/',
		'actions/splits/2020/',
		'actions/splits/2019/',
		'actions/splits/2018/',
		'actions/splits/2017/',
		'actions/splits/2016/',
		'actions/splits/2015/',
		'actions/splits/2014/',
		'actions/splits/2013/',
		'actions/splits/2012/',
		'actions/splits/2011/',
		'actions/splits/2010/',
		'actions/splits/2009/',
		'actions/splits/2008/',
		'actions/splits/2007/',
		'actions/splits/2006/',
		'actions/splits/2005/',
		'actions/splits/2004/',
		'actions/splits/2003/',
		'actions/splits/2002/',
		'actions/splits/2001/',
		'actions/splits/2000/',
		'actions/splits/1999/',
		'actions/splits/1998/',
		'actions/changes/',
		'actions/changes/2021/',
		'actions/changes/2020/',
		'actions/changes/2019/',
		'actions/changes/2018/',
		'actions/changes/2017/',
		'actions/changes/2016/',
		'actions/changes/2015/',
		'actions/changes/2014/',
		'actions/changes/2013/',
		'actions/changes/2012/',
		'actions/changes/2011/',
		'actions/changes/2010/',
		'actions/changes/2009/',
		'actions/changes/2008/',
		'actions/changes/2007/',
		'actions/changes/2006/',
		'actions/changes/2005/',
		'actions/changes/2004/',
		'actions/changes/2003/',
		'actions/changes/2002/',
		'actions/changes/2001/',
		'actions/changes/2000/',
		'actions/changes/1999/',
		'actions/changes/1998/',
		'actions/spinoffs/',
		'actions/spinoffs/2021/',
		'actions/spinoffs/2020/',
		'actions/spinoffs/2019/',
		'actions/spinoffs/2018/',
		'actions/spinoffs/2017/',
		'actions/spinoffs/2016/',
		'actions/spinoffs/2015/',
		'actions/spinoffs/2014/',
		'actions/spinoffs/2013/',
		'actions/spinoffs/2012/',
		'actions/spinoffs/2011/',
		'actions/spinoffs/2010/',
		'actions/spinoffs/2009/',
		'actions/spinoffs/2008/',
		'actions/spinoffs/2007/',
		'actions/spinoffs/2006/',
		'actions/spinoffs/2005/',
		'actions/spinoffs/2004/',
		'actions/spinoffs/2003/',
		'actions/spinoffs/2002/',
		'actions/spinoffs/2001/',
		'actions/spinoffs/2000/',
		'actions/spinoffs/1999/',
		'actions/spinoffs/1998/',
		'actions/bankruptcies/',
		'actions/bankruptcies/2021/',
		'actions/bankruptcies/2020/',
		'actions/bankruptcies/2019/',
		'actions/bankruptcies/2018/',
		'actions/bankruptcies/2017/',
		'actions/bankruptcies/2016/',
		'actions/bankruptcies/2015/',
		'actions/bankruptcies/2014/',
		'actions/bankruptcies/2013/',
		'actions/bankruptcies/2012/',
		'actions/bankruptcies/2011/',
		'actions/bankruptcies/2010/',
		'actions/bankruptcies/2009/',
		'actions/bankruptcies/2008/',
		'actions/bankruptcies/2007/',
		'actions/bankruptcies/2006/',
		'actions/bankruptcies/2005/',
		'actions/bankruptcies/2004/',
		'actions/bankruptcies/2003/',
		'actions/bankruptcies/2002/',
		'actions/bankruptcies/2001/',
		'actions/bankruptcies/2000/',
		'actions/bankruptcies/1999/',
		'actions/bankruptcies/1998/',
		'actions/acquisitions/',
		'actions/acquisitions/2021/',
		'actions/acquisitions/2020/',
		'actions/acquisitions/2019/',
		'actions/acquisitions/2018/',
		'actions/acquisitions/2017/',
		'actions/acquisitions/2016/',
		'actions/acquisitions/2015/',
		'actions/acquisitions/2014/',
		'actions/acquisitions/2013/',
		'actions/acquisitions/2012/',
		'actions/acquisitions/2011/',
		'actions/acquisitions/2010/',
		'actions/acquisitions/2009/',
		'actions/acquisitions/2008/',
		'actions/acquisitions/2007/',
		'actions/acquisitions/2006/',
		'actions/acquisitions/2005/',
		'actions/acquisitions/2004/',
		'actions/acquisitions/2003/',
		'actions/acquisitions/2002/',
		'actions/acquisitions/2001/',
		'actions/acquisitions/2000/',
		'actions/acquisitions/1999/',
		'actions/acquisitions/1998/',
		'stock-market-hours/',
		'berkshire-class-a-and-class-b-stock/',
		'safe-low-risk-investments/',
		'can-you-beat-the-market/',
		'stocks-vs-bonds/',
		'youtube-stock/',
		'etf-vs-mutual-fund/',
		'stocks-in-bankruptcy/',
		'warren-buffett-money/',
		'recession-vs-depression/',
		'how-to-short-stocks/',
		'who-determines-recessions/',
		'voo-vs-vti/',
		'revenue-vs-income/',
		'negative-pe-ratio/',
		'how-facebook-makes-money/',
		'analyst-ratings-explained/',
		'how-often-are-dividends-paid/',
		'goog-vs-googl-stock/',
		'average-monthly-stock-returns/',
		'how-to-buy-stocks-online/',
		'what-is-the-best-sp500-etf/',
		'5-ways-stock-buybacks-can-be-bad/',
		'why-stock-buybacks-are-good/',
		'where-to-park-cash/',
		'peg-ratio/',
		'term/dividend/',
		'term/operating-income/',
		'term/roe-return-on-equity/',
		'term/cash-flow-statement/',
		'term/balance-sheet/',
		'term/gross-profit/',
		'term/income-statement/',
		'term/ttm-trailing-twelve-months/',
		'term/net-income/',
		'term/revenue/',
		'term/pe-ratio/',
		'term/enterprise-value/',
		'term/market-capitalization/',
		'term/free-cash-flow/',
		'term/eps-earnings-per-share/',
		'term/market-to-book-ratio/',
		'term/yoy-year-over-year/',
	];

	const symbols = await getData('index?type=sitemap');
	const allPages = pages.concat(symbols);

	const sitemap = `<?xml version="1.0" encoding="UTF-8"?><urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"><url><loc>https://stockanalysis.com/</loc></url>${allPages
		.map((item: string) => {
			return `<url><loc>https://stockanalysis.com/${item}</loc></url>`;
		})
		.join('')}</urlset>`;

	res.setHeader('Cache-Control', 's-maxage=6000, stale-while-revalidate');
	res.setHeader('Content-Type', 'text/xml');
	res.write(sitemap);
	res.end();

	return {
		props: {},
	};
};

export default Sitemap;
